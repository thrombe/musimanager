
bugs:
  . yeet unnecessary uses of funcs for 2 width chars
  . since content_provider.current_index is updated every frame, yeet them from the get_at arguments and stuff
    . check if its necessary somewhere first
  . filtering changes order (important in queues)
  . is current_queue_view variable even required anymore?
  . auto play_next causes wrong values of _top_view

plan:
  . show selected song/album/whatever info on the player widget and add shortcut to switch and show playing song
  . maintain a song history
    . queue history?
    . save song progress and show when searching online (for discoverability)
      . a dict with just key and a number
      . songproviders and then use these when passing names
        . when online stuff, some attr in song_provider would be set true
        . only show the numbers when online?
        . but new songs are found in playlists, so maybe an option to trigger it?
      . mark the progress for songs that are offline too
      . if the song changes or next() is executed (for last song in a queue), enter the new progress in dict
        . so maybe maintain a "last_song_key" or something
  . FIX CRASHES CUZ OF ONLINE TIMEOUTS and stuff
  . provide options to rename playlists/queues/artists
  . a way to check what artists dont have their albums checked in a while
  . make it work offline (no crashes)
  . have a options menu for stuff like
    . toggling album art if not available
    . toggling song progress (from history) indicator
    . toggling to show currently selected content info or playing song info
  . maybe replace popup menus with menu in the browser widget
    . album art dosent have to disappear
    . other shortcuts still work
    . just another implimentation of song_provider needed
    . sorting and adding new dosent require to be in the list (kb shortcuts)
    . no need to display the numbers
  . are cached musidata and albumdata really needed?
    . it can be a bit quick maybe?
  . maybe show a smol q besides song names so that a quickshortcut for add_to_current_queue can be added
  . add logging
  . maybe global shortcuts?
    . https://pynput.readthedocs.io/en/latest/
    . https://github.com/moses-palmer/pynput
  . yeet artist name confirmation var and add a menu func for it
  . artist.search_term for artists that dont give good enough results for just their names for albums
    . multiple artist search terms + smol limit
  . multithreaing for time consuming stuff (async??)
    . including the live player info change on browser selection change 
  . maybe have general buttons for refresh, and stuff
  ?. have a "trigger_on_<button>" method on song provider (:pass), and have required implimentations on subclasses
  . add a popup for showing available shortcuts
  . do something useful with the bottom statusbar
  . cleanup all downloaded songs from temp_dir on exit
  . make an init func that checks and setus up the temp dirs and stuff on startup
  . show some loading thing when doing online stuff/doing stuff with songs (when the screen freezes otherwise)


dev_plan: 
  . add fucking typer
  . allow import of cookies and tokens using cli
  . add hooks/functions for external programs to use this as a microservice/package.
  . allow import from .txt and .json files (idk if this actually exists in the code)
  . make code more atomic (late goal, probably after this is stable.)
